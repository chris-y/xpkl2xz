# Makefile for project "xpkGZIP"
# Automatically generated by idltool
# 
# $Id: genskeleton.cpp,v 1.4 2003/12/12 18:50:18 hjfrieden Exp $
# 
# $Revision: 1.4 $
# 
# 
# $Log
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)gcc 
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3
DEBUG = # -ggdb -DDEBUG # -s
CFLAGS = -Wall $(OPTIMIZE) $(DEBUG) -I../include -DDISABLE_OVER_80

# Flags passed to gcc during linking
LINK = -N

# Name of the "thing" to build
TARGET = xpkL2XZ.library

# Additional linker libraries
LIBS =

# Version of the library to build
VERSION = 1

# Source code files used in this project
# Add any additional files to this line

SRCS =  init.c xpkGZIP_68k.c

# -------------------------------------------------------------
# Nothing should need changing below this line

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c main/XpksPackerInfo.c \
    main/XpksPackChunk.c main/XpksPackFree.c main/XpksPackReset.c \
    main/XpksUnpackChunk.c main/XpksUnpackFree.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles -o $(TARGET) $(OBJS) $(LIBS)

TestApp: TestApp.o
	$(CC) $(LINK) -o TestApp TestApp.o $(LIBS)

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

.PHONY: install
install:
	copy $(TARGET) libs:compressors
	expunge xpkmaster.library
	expunge xpkL2XZ.library
